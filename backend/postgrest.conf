# PostgREST Configuration for Al-Shorouk Radiology Management System
# Version: 1.0.0

# Database Connection
db-uri = "postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}"
db-schema = "public"
db-anon-role = "web_anon"
db-pool = 10
db-pool-timeout = 10
db-extra-search-path = "public"

# JWT Configuration
jwt-secret = "${JWT_SECRET}"
jwt-aud = "alshorouk-radiology"
jwt-iss = "alshorouk-api"
jwt-role-claim-key = ".role"
jwt-exp = 3600

# Server Configuration
server-host = "0.0.0.0"
server-port = 3000
server-proxy-uri = "http://localhost:3000"

# OpenAPI/Swagger Configuration
openapi-server-proxy-uri = "http://localhost:3000"
openapi-security-active = true
openapi-json-use-dicts = true

# CORS Configuration
server-cors-allowed-origins = "http://localhost:3002,http://localhost:3000"
server-cors-allowed-headers = "Content-Type,Authorization,Accept,Origin,X-Requested-With"
server-cors-allowed-methods = "GET,POST,PATCH,DELETE,OPTIONS"
server-cors-expose-headers = "Content-Range"
server-cors-allow-credentials = true

# Security Headers
server-header-added = "X-Content-Type-Options: nosniff"
server-header-added = "X-Frame-Options: DENY"
server-header-added = "X-XSS-Protection: 1; mode=block"

# API Configuration
api-impersonate = "false"
api-error-include-internal = "false"
api-error-include-hint = "true"
api-error-include-details = "false"

# Logging Configuration
log-level = "info"
log-libql = "info"
log-sql-level = "warn"

# Timeouts
db-pre-request = "200ms"
db-plan-enabled = false
db-tx-end = "commit"

# Performance Settings
db-prepared-statements = true
db-use-legacy-gids = false
db-allow-unlimited-relational-depth = false

# Schema Cache
db-root-spec = "public"
db-config = true

# Media Type Configuration
db-media-type-formats = "application/vnd.pgrst.object+json;null=default"